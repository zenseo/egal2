(function(){var a,b,c;(function(d){function j(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function k(a,b){return function(){return i.apply(d,g.call(arguments,0).concat([a,b]))}}function l(a){return function(b){return j(b,a)}}function m(a){return function(b){e[a]=b}}function n(a){if(f.hasOwnProperty(a)){var b=f[a];delete f[a],h.apply(d,b)}return e[a]}function o(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=j(a.slice(0,e),b),a=a.slice(e+1),d=n(c),d&&d.normalize?a=d.normalize(a,l(b)):a=j(a,b)):a=j(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var e={},f={},g=[].slice,h,i;if(typeof c=="function")return;h=function(a,b,c,g){var h=[],i,j,l,p,q,r;g||(g=a);if(typeof c=="function"){!b.length&&c.length&&(b=["require","exports","module"]);for(p=0;p<b.length;p++){r=o(b[p],g),l=r.f;if(l==="require")h[p]=k(a);else if(l==="exports")h[p]=e[a]={},i=!0;else if(l==="module")j=h[p]={id:a,uri:"",exports:e[a]};else if(e.hasOwnProperty(l)||f.hasOwnProperty(l))h[p]=n(l);else if(r.p)r.p.load(r.n,k(g,!0),m(l),{}),h[p]=e[l];else throw a+" missing "+l}q=c.apply(e[a],h),a&&(j&&j.exports!==d?e[a]=j.exports:i||(e[a]=q))}else a&&(e[a]=c)},a=i=function(a,b,c,e){return typeof a=="string"?n(o(a,b).f):(a.splice||(b.splice?(a=b,b=arguments[2]):a=[]),e?h(d,a,b,c):setTimeout(function(){h(d,a,b,c)},15),i)},i.config=function(){return i},b||(b=i),c=function(a,b,d){b.splice||(d=b,b=[]),c.unordered?f[a]=[a,b,d]:h(a,b,d)},c.amd={jQuery:!0}})(),c("lib/almond",function(){}),function(){var a=typeof jQuery!="undefined"&&jQuery;c("jquery",[],function(){return a})}(),function(a){typeof c=="function"&&c.amd?c("xselectable",["jquery"],a):a(jQuery)}(function(a){var b="xselectable",c={distance:0,disabled:!1,cancel:":input,option",filter:"*",scrollingThreshold:100,scrollSpeedMultiplier:1,scroller:null,positioner:null},d=function(c){function j(){return document.documentElement}function k(){var a=typeof window.pageYOffset=="number"?window.pageYOffset:document.documentElement.scrollTop,b=typeof window.pageXOffset=="number"?window.pageXOffset:document.documentElement.scrollLeft;return[a,b+f,a+g,b]}function l(){var a=typeof window.pageYOffset=="number"?window.pageYOffset:document.documentElement.scrollTop,b=typeof window.pageXOffset=="number"?window.pageXOffset:document.documentElement.scrollLeft;return[Math.max(a-d.top,0),Math.max(d.left+d.width-b-f,0),Math.max(d.top+d.height-a-g,0),Math.max(b-d.left,0)]}function m(a,b){a=="vertical"?window.scrollBy(0,b):window.scrollBy(b,0)}function n(){return{top:0,left:0}}var d=a(c).data(b).containerDimensions,f=typeof window.innerWidth=="number"?window.innerWidth:document.documentElement.clientWidth,g=typeof window.innerHeight=="number"?window.innerHeight:document.documentElement.clientHeight,h=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight;return{getScrollableElement:j,getScrollBorders:k,getScrollableDistances:l,scroll:m,getScrollOffset:n,next:e(c)}},e=function(c){function e(){return[c.scrollTop,c.scrollWidth-c.scrollLeft-d.width,c.scrollHeight-c.scrollTop-d.height,c.scrollLeft]}function f(a,b){var d=a=="vertical"?"scrollTop":"scrollLeft";c[d]+=b}function g(){return{top:0,left:0}}var d=a(c).data(b).containerDimensions;return{getScrollableDistances:e,scroll:f,getScrollOffset:g}},f=function(){return this},g=function(){var c=a(this).data(b).containerDimensions;return[c.top,c.left+c.width,c.top+c.height,c.left]},h=function(a){return{top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}},i=function(a){return a>0?1:a<0?-1:0},j=function(){var c=a(this),d=c.data(b);d.selectionGlass=a("<div />",{"class":b+"-glass"}).css({position:"absolute",top:0,left:0,height:this.scrollHeight,width:this.scrollWidth,overflow:"hidden"}).appendTo(c),d.selectionBox=a("<div />",{"class":b+"-box"}).css({position:"absolute"}).appendTo(d.selectionGlass)},k=function(){var c=this,d=a(this),e=d.data(b),f=[];d.find(e.options.filter).each(function(){var a=(e.options.positioner||h).call(c,this);a.element=this,a.selected=!1,f.push(a)}).removeClass(b+"-selected"),e.selectables=f},l=function(c){var d=a(this).data(b);d.selectionBoxExtents={top:Math.min(d.startPosition.pageY,c.pageY)-d.containerDimensions.top+this.scrollTop,left:Math.min(d.startPosition.pageX,c.pageX)-d.containerDimensions.left+this.scrollLeft,height:Math.abs(d.startPosition.pageY-c.pageY),width:Math.abs(d.startPosition.pageX-c.pageX)},d.selectionBox.css(d.selectionBoxExtents)},m=function(c,d,e){var h=a(this),j=h.data(b),k=j.containerDimensions,l=j.options.scrollingThreshold,n=j.options.scrollSpeedMultiplier;j.scrollingTimeout&&(window.clearTimeout(j.scrollingTimeout),delete j.scrollingTimeout);var o=e?((new Date).getTime()-e)/16:1,p=e,q=!1,s=d.getScrollableDistances(),t=d.getScrollBorders?d.getScrollBorders():g.call(this),u=d.getScrollableElement?d.getScrollableElement():f.call(this),v=[{distance:Math.max(c.pageY-t[0],0),direction:-1,scrollAxis:"vertical",positionProperty:"pageY"},{distance:Math.max(t[1]-c.pageX,0),direction:1,scrollAxis:"horizontal",positionProperty:"pageX"},{distance:Math.max(t[2]-c.pageY,0),direction:1,scrollAxis:"vertical",positionProperty:"pageY"},{distance:Math.max(c.pageX-t[3],0),direction:-1,scrollAxis:"horizontal",positionProperty:"pageX"}];for(var w=v.length-1;w>=0;w--){var x=v[w],y=s[w];if(x.distance<l&&y>0&&i(j.curPosition[x.positionProperty]-j.lastPosition[x.positionProperty])==x.direction){var z=x.direction*Math.round(Math.min(y,Math.ceil((l-x.distance)/10)*o*n));d.scroll(x.scrollAxis,z),u==this?(j.startPosition[x.positionProperty]-=z,j.curPosition[x.positionProperty]-=z):c[x.positionProperty]+=z,q=!0}}q?j.scrollingTimeout=window.setTimeout(a.proxy(function(){r.call(this,c,p)},this),16):d.next&&m.call(this,c,d.next,e)},n=function(c){var d=a(this),e=d.data(b),f={top:0,left:0},g=c;while(!!g){var h=g.getScrollOffset();f.top+=h.top,f.left+=h.left,g=g.next}for(var i=e.selectables.length-1;i>=0;i--){var j=e.selectables[i];o(e.selectionBoxExtents,j,f)?j.selected||(a(j.element).addClass(b+"-selected"),j.selected=!0,d.trigger(b+"selecting",{selecting:j.element})):j.selected&&(a(j.element).removeClass(b+"-selected"),j.selected=!1,d.trigger(b+"unselecting",{unselecting:j.element}))}},o=function(a,b,c){return p(a.top,a.height,b.top+c.top,b.height)&&p(a.left,a.width,b.left+c.left,b.width)},p=function(a,b,c,d){var e=a+b,f=c+d;return c>=a&&c<=e||f>=a&&f<=e||c<=a&&f>=e},q=function(c){var e=a(this),f=e.data(b);if(c.which!=1)return;var g=[f.options.cancel,f.options.cancel+" *"].join(",");if(!!f.options.cancel&&a(c.target).is(g))return;if(c.pageX>e.offset().left+this.clientWidth||c.pageY>e.offset().top+this.clientHeight)return;f.containerDimensions={top:e.offset().top+(e.outerHeight(!1)-e.innerHeight())/2,left:e.offset().left+(e.outerWidth(!1)-e.innerWidth())/2,width:this.clientWidth,height:this.clientHeight},f.startPosition={pageX:c.pageX,pageY:c.pageY},f.curPosition={pageX:c.pageX,pageY:c.pageY},f.scroller=(f.options.scroller||d).call(this,this),f.mouseupHandler=a.proxy(s,this),a(document).bind("mouseup."+b,f.mouseupHandler),a(document).bind("mousemove."+b,a.proxy(r,this)),e.bind("mousewheel."+b,function(a){return a.preventDefault(),!1}),c.preventDefault()},r=function(c,d){var e=a(this),f=e.data(b),g=f.scroller,h=f.options.distance;if(!f.selectionBox&&Math.abs(f.startPosition.pageX-c.pageX)<h&&Math.abs(f.startPosition.pageY-c.pageY)<h)return;f.lastPosition=f.curPosition,f.curPosition={pageX:c.pageX,pageY:c.pageY},f.selectionBox||(e.trigger(b+"start"),j.apply(this),k.apply(this)),m.call(this,c,g,d),l.call(this,c),n.call(this,g)},s=function(c){var d=a(this),e=d.data(b);e.scrollingTimeout&&(window.clearTimeout(e.scrollingTimeout),delete e.scrollingTimeout),d.unbind("mousewheel."+b),a(document).unbind("mousemove."+b),a(document).unbind("mouseup."+b,e.mouseupHandler),e.mouseupHandler=undefined;if(!!e.selectionBox){e.selectionBox.remove(),delete e.selectionBox,e.selectionGlass.remove(),delete e.selectionGlass;var f=[],g=[];for(var h=e.selectables.length-1;h>=0;h--)(e.selectables[h].selected?f:g).push(e.selectables[h].element);delete e.selectables,d.trigger(b+"selected",{selected:f}),d.trigger(b+"unselected",{unselected:g}),d.trigger(b+"stop")}},t={init:function(d){return this.each(function(){a(this).data(b,{options:a.extend({},c,d)})}),this.data(b).options.disabled?this:t.enable.apply(this)},destroy:function(){return t.disable.apply(this),this.removeData(b)},enable:function(){return this.each(function(){var c=a(this),d=c.data(b);d.options.disabled=!1,c.bind("mousedown."+b,q)})},disable:function(){return this.each(function(){var c=a(this),d=c.data(b);d.options.disabled=!0,c.unbind("."+b)})},option:function(a,c){var d=this.first().data(b).options;return c===undefined?d[a]:(d[a]=c,a=="disabled"&&(c?t.disable.apply(this):t.enable.apply(this)),this)}};a.fn[b]=function(c){if(t[c])return t[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c=="object"||!c)return t.init.apply(this,arguments);a.error("Method "+c+" does not exist on jQuery."+b)}})})()